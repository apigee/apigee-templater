name: javascript-proxy
displayName: ""
description: ""
features: []
endpoints:
  - name: default
    path: /test-proxy
    flows:
      - name: PostFlow
        mode: Response
        condition: ""
        steps:
          - name: JS-SetResponse
    faultRules: []
    routes:
      - name: get
        condition: proxy.pathsuffix = "/get"
        target: target2
      - name: default
        target: default
targets:
  - name: default
    flows: []
    faultRules: []
    url: https://mocktarget.apigee.net
  - name: target2
    flows: []
    faultRules: []
    url: https://httpbin.org
policies:
  - name: JS-SetResponse
    type: Javascript
    content:
      _declaration:
        _attributes:
          version: "1.0"
          encoding: UTF-8
          standalone: yes
      Javascript:
        _attributes:
          continueOnError: "false"
          enabled: "true"
          timeLimit: "200"
          name: JS-SetResponse
        DisplayName:
          _text: JS-SetResponse
        Properties: {}
        ResourceURL:
          _text: jsc://set-response.js
resources:
  - name: set-response.js
    type: jsc
    content: |-
      print("hello world!!");

      context.proxyResponse.content += "hello world!";
